<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Lector QR</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  
  <ion-list *ngIf="characters.length > 0" class="list">
    <ion-item *ngFor="let data of characters; let i = index">
      <ion-card class="principal-card">
        <img [alt]="data.id" [src]="data.image" />
        <ion-card-header>
          <ion-card-title>{{ data.name }}</ion-card-title>
          <ion-card-subtitle>
            Especie: {{ data.species }}
            <br>
            Origen: {{ data.origin?.name }}
            <br>
            Status: {{ data.status }}
            <br>
            Latitud QR: {{ data.latitude }} - LongitudQR: {{ data.longitude }} - Time: {{ data.time | date: 'dd/MM/yyyy HH:mm:ss' }}
          </ion-card-subtitle>
        </ion-card-header>

        <!-- Contenedor del mapa -->
        <div [id]="'map' + i" class="small-map"></div>  <!-- Mapa individual -->
      </ion-card>
    </ion-item>
  </ion-list>

  <ion-fab slot="fixed" vertical="bottom" horizontal="end">
    <ion-fab-button (click)="scan()" [disabled]="!isSupported">
      <ion-icon name="scan"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
